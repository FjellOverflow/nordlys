---
import Separator from '@/components/layout/Separator.astro'
import { sortProjects } from '@/util/projects'
import type { CollectionEntry } from 'astro:content'
import ProjectListItem from './ProjectsListItem.astro'

export interface Props {
  projects: CollectionEntry<'projects'>[]
}

const { projects } = Astro.props

projects.sort(sortProjects)
---

<ul class="list-none p-0">
  {
    projects.map((project, index) => (
      <>
        <li class="pl-0">
          <ProjectListItem {project} />
          {index !== projects.length - 1 && <Separator class="mt-0 mb-6" />}
        </li>
      </>
    ))
  }
</ul>
